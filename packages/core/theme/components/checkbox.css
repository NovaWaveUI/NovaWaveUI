@layer components {
  /* ===================================================== */
  /* Checkbox                                               */
  /* ===================================================== */
  [data-component='checkbox'] {
    &[data-slot='checkbox-root'] {
      @apply relative inline-flex items-center justify-center gap-2 p-2 -m-2 select-none cursor-pointer z-0;
      @apply size-lg:gap-3;
      @apply data-disabled:opacity-disabled data-disabled:pointer-events-none;

      &[data-read-only='true'] {
        @apply cursor-default pointer-events-none;
      }
    }

    /* Indicator */
    [data-slot='checkbox-indicator'] {
      @apply relative flex items-center justify-center bg-transparent border-solid border-2 rounded;
      @apply transition-all duration-100 ease-in-out origin-center;
      @apply size-sm:size-4 size-md:size-5 size-lg:size-6;
      @apply focus-visible:focus-outline;
      @apply border-neutral/70 text-inherit;
    }

    /* Hovered State */
    &[data-hovered='true'] [data-slot='checkbox-indicator'] {
      @apply border-neutral-hover;
    }

    /* Selected State */
    &[data-selected='true'] [data-slot='checkbox-indicator'] {
      @apply bg-accent border-transparent text-accent-foreground;
    }

    /* Hovered + Selected State */
    &[data-selected='true'][data-hovered='true']
      [data-slot='checkbox-indicator'] {
      @apply bg-accent-hover;
    }

    /* Focus Visible Indicator */
    &[data-focus-visible='true'] [data-slot='checkbox-indicator'] {
      @apply focus-outline;
    }

    /* Icon */
    [data-slot='checkbox-icon'] {
      @apply inset-0 flex items-center justify-center opacity-0 pointer-events-none transition-opacity duration-100 ease-in-out size-full text-inherit;

      & > * {
        @apply z-10 flex-shrink-0 text-inherit;
      }
    }

    /* Label (normal weight) */
    [data-slot='checkbox-label'] {
      @apply font-normal text-neutral select-none;
      @apply size-sm:text-sm size-md:text-base size-lg:text-lg;
    }

    &[data-required='true'] [data-slot='checkbox-label']::after {
      @apply content-['*'] text-danger ml-0.5;
    }

    &[data-invalid='true'] [data-slot='checkbox-label'] {
      @apply text-danger;
    }

    /* Icon visibility */
    &[data-selected='true'] [data-slot='checkbox-icon'] {
      @apply opacity-100;
    }

    /* Pressed scaling */
    &[data-pressed='true'] [data-slot='checkbox-indicator'] {
      @apply scale-95;
    }

    /* Invalid overrides all colors */
    &[data-invalid='true'] {
      [data-slot='checkbox-indicator'] {
        @apply border-danger text-danger-foreground;
      }
      &[data-hovered='true'] [data-slot='checkbox-indicator'] {
        @apply bg-danger-hover;
      }
      &[data-selected='true'] [data-slot='checkbox-indicator'] {
        @apply bg-danger border-transparent;
      }
      &[data-selected='true'][data-hovered='true']
        [data-slot='checkbox-indicator'] {
        @apply bg-danger-hover;
      }
    }
  }

  /* ===================================================== */
  /* Checkbox Group                                        */
  /* ===================================================== */
  [data-component='checkbox-group'] {
    &[data-slot='checkbox-group-root'] {
      @apply inline-flex flex-col gap-2;
    }

    [data-slot='checkbox-group-wrapper'] {
      @apply inline-flex gap-4;
      @apply data-orientation-horizontal:flex-row data-orientation-horizontal:items-center;
      @apply data-orientation-vertical:flex-col data-orientation-vertical:items-start;
    }

    &[data-disabled='true'] [data-slot='checkbox-group-wrapper'] {
      @apply pointer-events-none opacity-disabled;
    }

    /* Group label â€” bold */
    [data-slot='checkbox-group-label'] {
      @apply font-medium text-neutral select-none;
      @apply size-sm:text-sm size-md:text-base size-lg:text-lg;
    }

    &[data-required='true'] [data-slot='checkbox-group-label']::after {
      @apply content-['*'] text-danger ml-0.5;
    }

    /* Description */
    [data-slot='checkbox-group-description'] {
      @apply text-sm text-neutral/70 select-none;
      @apply size-sm:text-xs size-lg:text-base;
    }

    /* Error */
    [data-slot='checkbox-group-error'] {
      @apply text-sm text-danger select-none;
      @apply size-sm:text-xs size-lg:text-base;
    }

    &[data-disabled='true'] [data-slot='checkbox-group-description'],
    &[data-disabled='true'] [data-slot='checkbox-group-error'] {
      @apply opacity-disabled;
    }

    &[data-invalid='true'] [data-slot='checkbox-group-description'] {
      @apply text-danger;
    }
  }
}
