@layer components {
  /* Root Checkbox */
  [data-component='checkbox'] {
    /* Base */
    @apply z-0 relative max-w-fit inline-flex items-center justify-center cursor-pointer p-2 -m-2 select-none;
    @apply gap-2 size-lg:gap-3;

    /* Disabled State */
    @apply data-disabled:opacity-disabled data-disabled:pointer-events-none;

    /* Read Only State */
    &[data-read-only='true'] {
      @apply cursor-default pointer-events-none;
    }
  }

  [data-component='checkbox'] [data-slot='indicator'] {
    @apply relative flex items-center justify-center bg-transparent;
    @apply border-solid border-2;

    /* Group Radius Variants */
    @apply radius-none:rounded-none;
    @apply radius-sm:rounded-sm;
    @apply radius-md:rounded-md;
    @apply radius-lg:rounded-lg;
    @apply radius-full:rounded-full;

    /* Transitions & Transform */
    @apply transition-all duration-100 ease-in-out origin-center;

    /* Size Variants */
    @apply size-sm:size-4;
    @apply size-md:size-5;
    @apply size-lg:size-6;

    /* Focus Visible */
    @apply focus-visible:focus-outline;

    &[data-component='checkbox'] [data-pressed='true'] {
      @apply scale-95;
    }

    /* Color Variants */
    @variant color-neutral {
      .nw-checkbox[data-hovered='true'] & {
        @apply bg-neutral-subtle;
      }

      .nw-checkbox[data-selected='true'] & {
        @apply bg-neutral;
        @apply border-transparent;

        .nw-checkbox[data-hovered='true'] & {
          @apply bg-neutral-hover;
        }
      }
    }

    @variant color-primary {
      @apply border-primary text-on-primary;

      .nw-checkbox[data-hovered='true'] & {
        @apply bg-primary-subtle;
      }

      .nw-checkbox[data-selected='true'] & {
        @apply bg-primary;
        @apply border-transparent;

        .nw-checkbox[data-hovered='true'] & {
          @apply bg-primary-hover;
        }
      }
    }

    @variant color-secondary {
      .nw-checkbox[data-hovered='true'] & {
        @apply bg-secondary-subtle;
      }

      .nw-checkbox[data-selected='true'] & {
        @apply bg-secondary;
        @apply border-transparent;

        .nw-checkbox[data-hovered='true'] & {
          @apply bg-secondary-hover;
        }
      }
    }

    @variant color-success {
      .nw-checkbox[data-hovered='true'] & {
        @apply bg-success-subtle;
      }

      .nw-checkbox[data-selected='true'] & {
        @apply bg-success;
        @apply border-transparent;

        .nw-checkbox[data-hovered='true'] & {
          @apply bg-success-hover;
        }
      }
    }

    @variant color-warning {
      .nw-checkbox[data-hovered='true'] & {
        @apply bg-warning-subtle;
      }

      .nw-checkbox[data-selected='true'] & {
        @apply bg-warning;
        @apply border-transparent;

        .nw-checkbox[data-hovered='true'] & {
          @apply bg-warning-hover;
        }
      }
    }

    @variant color-danger {
      @apply border-danger text-on-danger;

      .nw-checkbox[data-hovered='true'] & {
        @apply bg-danger-subtle;
      }

      .nw-checkbox[data-selected='true'] & {
        @apply bg-danger;
        @apply border-transparent;

        .nw-checkbox[data-hovered='true'] & {
          @apply bg-danger-hover;
        }
      }
    }

    .nw-checkbox[data-invalid='true'] & {
      @apply border-danger;
      @apply text-on-danger;

      .nw-checkbox[data-hovered='true'] & {
        @apply bg-danger-subtle;
      }

      .nw-checkbox[data-selected='true'] & {
        @apply bg-danger;
        @apply border-transparent;

        .nw-checkbox[data-hovered='true'] & {
          @apply bg-danger-hover;
        }
      }
    }
  }

  [data-component='checkbox'] [data-slot='checkbox-icon'] {
    @apply inset-0 flex items-center justify-center opacity-0 pointer-events-none;
    @apply transition-opacity duration-100 ease-in-out;
    @apply size-full;
    @apply text-inherit;

    .nw-checkbox[data-selected='true'] & {
      @apply opacity-100;
    }
  }

  [data-component='checkbox'] [data-slot='checkbox-icon'] > * {
    @apply z-10 flex-shrink-0 text-inherit;
  }

  [data-component='checkbox'] [data-slot='label'] {
    @apply text-neutral;
    @apply select-none;
    @apply size-sm:text-sm;
    @apply size-md:text-base;
    @apply size-lg:text-lg;

    .nw-checkbox[data-required='true'] &::after {
      @apply content-['*'] text-danger ml-0.5;
    }

    /* Invalid State */
    .nw-checkbox[data-invalid='true'] & {
      @apply text-danger;
    }
  }

  [data-component='checkbox-group'] [data-slot='root'] {
    @apply inline-flex flex-col gap-2;
  }

  [data-component='checkbox-group'] [data-slot='wrapper'] {
    @apply inline-flex;
    @apply gap-4;
    @apply data-orientation-horizontal:flex-row data-orientation-horizontal:items-center;
    @apply data-orientation-vertical:flex-col data-orientation-vertical:items-start;
  }

  [data-component='checkbox-group'] [data-slot='label'] {
    @apply text-neutral font-medium;
    @apply select-none group-data-disabled:opacity-disabled;
    @apply size-sm:text-sm;
    @apply size-md:text-base;
    @apply size-lg:text-lg;
    @apply required:after:content-['*'] required:after:text-danger required:after:ml-0.5;
  }

  [data-component='checkbox-group'] [data-slot='description'] {
    @apply text-sm text-neutral-subtle;
    @apply select-none;
    @apply data-disabled:opacity-disabled;
    @apply size-sm:text-xs;
    @apply size-lg:text-base;
    @apply invalid:text-danger;
  }

  [data-component='checkbox-group'] [data-slot='error'] {
    @apply text-sm text-danger;
    @apply select-none;
    @apply disabled:opacity-disabled;
    @apply size-sm:text-xs;
    @apply size-lg:text-base;
  }
}
