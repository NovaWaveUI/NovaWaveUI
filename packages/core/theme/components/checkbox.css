@layer components {
  /* Root Checkbox */
  .nw-checkbox {
    /* Base */
    @apply z-0 relative max-w-fit inline-flex items-center justify-center cursor-pointer p-2 -m-2 select-none;
    @apply gap-2 size-lg:gap-3;

    /* Disabled State */
    @apply data-disabled:opacity-disabled data-disabled:pointer-events-none;

    /* Read Only State */
    &[data-read-only='true'] {
      @apply cursor-default pointer-events-none;
    }
  }

  .nw-checkbox > [data-slot='indicator'] {
    @apply relative flex items-center justify-center bg-transparent;
    /* Sizes */
    @apply size-5;
    @apply border-solid border-2;
    @apply radius-none:rounded-none radius-sm:rounded-sm radius-md:rounded-md radius-lg:rounded-lg radius-full:rounded-full;
    @apply transition-all duration-100 ease-in-out origin-center;
    @apply data-pressed:scale-95;

    /* Focus Visible */
    @apply focus-visible:focus-outline;

    /* Color Variants */
    .nw-checkbox[data-color='primary'] & {
      @apply border-primary text-on-primary;
    }

    .nw-checkbox[data-color='primary'],
    .nw-checkbox[data-color='primary'][data-hovered='true'] & {
      @apply bg-primary-subtle;
    }

    .nw-checkbox[data-color='primary'],
    .nw-checkbox[data-color='primary'][data-selected='true'] & {
      @apply bg-primary border-transparent;
    }
    .nw-checkbox[data-color='primary'][data-selected='true'][data-hovered='true']
      & {
      @apply bg-primary-hover;
    }

    .nw-checkbox[data-color='secondary'] & {
      @apply border-secondary text-on-secondary hover:bg-secondary-subtle;
      .nw-checkbox[data-selected] & {
        @apply bg-secondary border-transparent hover:bg-secondary-hover;
      }
    }

    .nw-checkbox[data-color='success'] & {
      @apply border-success text-on-success hover:bg-success-subtle;
      .nw-checkbox[data-selected] & {
        @apply bg-success border-transparent hover:bg-success-hover;
      }
    }

    .nw-checkbox[data-color='warning'] & {
      @apply border-warning text-on-warning hover:bg-warning-subtle;
      .nw-checkbox[data-selected] & {
        @apply bg-warning border-transparent hover:bg-warning-hover;
      }
    }

    .nw-checkbox[data-color='danger'] & {
      @apply border-danger text-on-danger hover:bg-danger-subtle;
      .nw-checkbox[data-selected] & {
        @apply bg-danger border-transparent hover:bg-danger-hover;
      }
    }

    /* Invalid State */
    .nw-checkbox[data-invalid] & {
      @apply border-danger text-on-danger;
      .nw-checkbox[data-selected] & {
        @apply bg-danger border-transparent hover:bg-danger-hover;
      }
    }
  }

  .nw-checkbox > [data-slot='checkbox-icon'] {
    @apply inset-0 flex items-center justify-center opacity-0 pointer-events-none;

    @variant group-size-sm {
      @apply size-3;
    }

    @variant group-size-md {
      @apply size-4;
    }

    @variant group-size-lg {
      @apply size-5;
    }

    @variant group-data-selected {
      @apply opacity-100;
    }
  }

  .nw-checkbox > [data-slot='checkbox-icon'] > * {
    @apply z-10 flex-shrink-0 text-inherit;
  }

  .nw-checkbox > [data-slot='label'] {
    @apply text-sm text-neutral;
    @apply select-none;

    @variant group-size-sm {
      @apply text-sm;
    }

    @variant group-size-md {
      @apply text-base;
    }

    @variant group-size-lg {
      @apply text-lg;
    }

    .nw-group[data-is-required]::after {
      @apply content-['*'] text-danger ml-0.5;
    }

    /* Invalid State */
    @apply group-data-invalid:text-danger;
  }

  .nw-checkbox-group {
    @apply inline-flex flex-col gap-2;
  }

  .nw-checkbox-group > [data-slot='checkbox-group-wrapper'] {
    @apply inline-flex;
    @apply gap-4;

    /* Orientation Variants */
    @variant data-orientation-vertical {
      @apply flex-col;
    }

    @variant data-orientation-horizontal {
      @apply flex-row;
    }
  }

  .nw-checkbox-group > [data-slot='checkbox-group-label'] {
    @apply text-base text-neutral font-medium;
    @apply select-none;
    @variant data-disabled {
      @apply opacity-disabled;
    }

    &[data-is-required]::after {
      @apply content-['*'] text-danger ml-0.5;
    }

    /* Size Variants */
    @variant size-sm {
      @apply text-sm;
    }

    /* Medium is default */

    @variant size-lg {
      @apply text-lg;
    }
  }

  .nw-checkbox-group > [data-slot='checkbox-group-description'] {
    @apply text-sm text-neutral-subtle;
    @apply select-none;
    @variant data-disabled {
      @apply opacity-disabled;
    }

    /* Size Variants */
    @variant size-sm {
      @apply text-xs;
    }

    /* Medium is default */

    @variant size-lg {
      @apply text-base;
    }

    /* Invalid State */
    @variant invalid {
      @apply text-danger;
    }
  }

  .nw-checkbox-group [data-slot='checkbox-group-error'] {
    @apply text-sm text-danger;
    @apply select-none;

    @variant data-disabled {
      @apply opacity-disabled;
    }
  }
}
